<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì‹¤ì ë°œí‘œ ìº˜ë¦°ë”</title>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', Arial, sans-serif;
      background: #f0f2f5;
      color: #1a1a1a;
      font-size: 15px;
    }
    header {
      background: #1a73e8;
      color: #fff;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 2px 6px rgba(0,0,0,.15);
    }
    header h1 { font-size: 18px; font-weight: 700; }
    header span { font-size: 12px; opacity: .8; }
    .filters {
      padding: 12px 16px;
      background: #fff;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .filters button {
      padding: 6px 14px;
      border-radius: 20px;
      border: 1px solid #ddd;
      background: #f5f5f5;
      font-size: 13px;
      cursor: pointer;
      transition: all .2s;
    }
    .filters button.active {
      background: #1a73e8;
      color: #fff;
      border-color: #1a73e8;
    }
    .week-group { margin: 12px 16px; }
    .week-label {
      font-size: 12px;
      font-weight: 700;
      color: #888;
      letter-spacing: .5px;
      margin-bottom: 8px;
      padding-left: 4px;
    }
    .card {
      background: #fff;
      border-radius: 10px;
      padding: 14px 16px;
      margin-bottom: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,.07);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .date-badge {
      min-width: 52px;
      text-align: center;
      background: #e8f0fe;
      border-radius: 8px;
      padding: 6px 4px;
    }
    .date-badge .day { font-size: 22px; font-weight: 700; color: #1a73e8; line-height: 1; }
    .date-badge .dow { font-size: 11px; color: #5f6368; margin-top: 3px; }
    .card-body { flex: 1; min-width: 0; }
    .corp-name {
      font-weight: 700;
      font-size: 15px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .corp-meta { font-size: 12px; color: #888; margin-top: 3px; }
    .badge {
      font-size: 11px;
      padding: 4px 10px;
      border-radius: 12px;
      white-space: nowrap;
      font-weight: 600;
    }
    .badge-confirmed { background: #e6f4ea; color: #1e7e34; }
    .badge-expected  { background: #fff8e1; color: #f57f17; }
    .empty {
      text-align: center;
      padding: 60px 20px;
      color: #aaa;
      font-size: 14px;
    }
    .footer {
      text-align: center;
      padding: 20px;
      font-size: 11px;
      color: #bbb;
    }
    @media (max-width: 480px) {
      .week-group { margin: 8px 10px; }
      .card { padding: 12px; gap: 10px; }
    }
  </style>
</head>
<body>

<header>
  <h1>ğŸ“… ì‹¤ì ë°œí‘œ ìº˜ë¦°ë”</h1>
  <span id="updated-label"></span>
</header>

<div class="filters">
  <button class="active" onclick="setFilter('all', this)">ì „ì²´</button>
  <button onclick="setFilter('confirmed', this)">í™•ì •</button>
  <button onclick="setFilter('expected', this)">ì˜ˆìƒ</button>
  <button onclick="setFilter('KOSPI', this)">KOSPI</button>
  <button onclick="setFilter('KOSDAQ', this)">KOSDAQ</button>
</div>

<div id="root"></div>
<div class="footer" id="footer"></div>

<script>
const DATA = [{"stock_code": "192400", "corp_name": "ì¿ ì¿ í™€ë”©ìŠ¤", "market": "Y", "announce_dt": "20260223", "rcept_no": "20260223800820", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "088350", "corp_name": "í•œí™”ìƒëª…", "market": "Y", "announce_dt": "20260223", "rcept_no": "20260223800598", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "0010V0", "corp_name": "ì œì´í”¼ì•„ì´í—¬ìŠ¤ì¼€ì–´", "market": "K", "announce_dt": "20260223", "rcept_no": "20260223900382", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "001450", "corp_name": "í˜„ëŒ€í•´ìƒ", "market": "Y", "announce_dt": "20260223", "rcept_no": "20260223800323", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "000370", "corp_name": "í•œí™”ì†í•´ë³´í—˜", "market": "Y", "announce_dt": "20260223", "rcept_no": "20260223800129", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "014790", "corp_name": "HL D&I", "market": "Y", "announce_dt": "20260223", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "009290", "corp_name": "ê´‘ë™ì œì•½", "market": "Y", "announce_dt": "20260223", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "222040", "corp_name": "ì½”ìŠ¤ë§¥ìŠ¤ì—”ë¹„í‹°", "market": "K", "announce_dt": "20260223", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "086670", "corp_name": "ë¹„ì— í‹°", "market": "K", "announce_dt": "20260223", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "151860", "corp_name": "KGì—ì½”ì†”ë£¨ì…˜", "market": "K", "announce_dt": "20260224", "rcept_no": "20260224900936", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "011210", "corp_name": "í˜„ëŒ€ìœ„ì•„", "market": "Y", "announce_dt": "20260224", "rcept_no": "20260224801081", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "417970", "corp_name": "ëª¨ë¸ì†”ë£¨ì…˜", "market": "K", "announce_dt": "20260224", "rcept_no": "20260224900993", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "329180", "corp_name": "HDí˜„ëŒ€ì¤‘ê³µì—…", "market": "Y", "announce_dt": "20260224", "rcept_no": "20260224800861", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "009540", "corp_name": "HDí•œêµ­ì¡°ì„ í•´ì–‘", "market": "Y", "announce_dt": "20260224", "rcept_no": "20260224800852", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "352820", "corp_name": "í•˜ì´ë¸Œ", "market": "Y", "announce_dt": "20260224", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "068270", "corp_name": "ì…€íŠ¸ë¦¬ì˜¨", "market": "Y", "announce_dt": "20260224", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "036010", "corp_name": "ì•„ë¹„ì½”ì „ì", "market": "K", "announce_dt": "20260224", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "004000", "corp_name": "ë¡¯ë°ì •ë°€í™”í•™", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225801727", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "000880", "corp_name": "í•œí™”", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225801674", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "450080", "corp_name": "ì—ì½”í”„ë¡œë¨¸í‹°", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225801569", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "042000", "corp_name": "ì¹´í˜24", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225901551", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "388050", "corp_name": "ì§€íˆ¬íŒŒì›Œ", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225901419", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "031210", "corp_name": "ì„œìš¸ë³´ì¦ë³´í—˜", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225801467", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "240810", "corp_name": "ì›ìµIPS", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225901290", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "215200", "corp_name": "ë©”ê°€ìŠ¤í„°ë””êµìœ¡", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225900994", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "377740", "corp_name": "ë°”ì´ì˜¤ë…¸íŠ¸", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225801183", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "096530", "corp_name": "ì”¨ì  ", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225900818", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "403550", "corp_name": "ì˜ì¹´", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225800509", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "161890", "corp_name": "í•œêµ­ì½œë§ˆ", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225800390", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "023160", "corp_name": "íƒœê´‘", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225900306", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "012860", "corp_name": "ëª¨ë² ì´ìŠ¤ì „ì", "market": "K", "announce_dt": "20260225", "rcept_no": "20260225900238", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "271560", "corp_name": "ì˜¤ë¦¬ì˜¨", "market": "Y", "announce_dt": "20260225", "rcept_no": "20260225800112", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "024720", "corp_name": "ì½œë§ˆí™€ë”©ìŠ¤", "market": "Y", "announce_dt": "20260225", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "001390", "corp_name": "KGì¼€ë¯¸ì¹¼", "market": "Y", "announce_dt": "20260226", "rcept_no": "20260226801791", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "091810", "corp_name": "í‹°ì›¨ì´í•­ê³µ", "market": "Y", "announce_dt": "20260226", "rcept_no": "20260226801669", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "284740", "corp_name": "ì¿ ì¿ í™ˆì‹œìŠ¤", "market": "Y", "announce_dt": "20260226", "rcept_no": "20260226801582", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "036460", "corp_name": "í•œêµ­ê°€ìŠ¤ê³µì‚¬", "market": "Y", "announce_dt": "20260226", "rcept_no": "20260226800912", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "015760", "corp_name": "í•œêµ­ì „ë ¥ê³µì‚¬", "market": "Y", "announce_dt": "20260226", "rcept_no": "20260226800817", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "002960", "corp_name": "í•œêµ­ì‰˜ì„ìœ ", "market": "Y", "announce_dt": "20260226", "rcept_no": "20260226800794", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "104830", "corp_name": "ì›ìµë¨¸íŠ¸ë¦¬ì–¼ì¦ˆ", "market": "K", "announce_dt": "20260226", "rcept_no": "20260226900649", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "257720", "corp_name": "ì‹¤ë¦¬ì½˜íˆ¬", "market": "K", "announce_dt": "20260226", "rcept_no": "20260226900511", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "041830", "corp_name": "ì¸ë°”ë””", "market": "K", "announce_dt": "20260226", "rcept_no": "20260226900579", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "367000", "corp_name": "í”Œë˜í‹°ì–´", "market": "K", "announce_dt": "20260226", "rcept_no": "20260226900450", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "005290", "corp_name": "ë™ì§„ì„ë¯¸ì¼", "market": "K", "announce_dt": "20260226", "rcept_no": "20260226900456", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "161390", "corp_name": "í•œêµ­íƒ€ì´ì–´ì•¤í…Œí¬ë†€ë¡œì§€", "market": "Y", "announce_dt": "20260226", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "065450", "corp_name": "ë¹…í…", "market": "K", "announce_dt": "20260226", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "074600", "corp_name": "ì›ìµQnC", "market": "K", "announce_dt": "20260226", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "013360", "corp_name": "ì¼ì„±ê±´ì„¤", "market": "Y", "announce_dt": "20260227", "rcept_no": "20260227802130", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "214420", "corp_name": "í† ë‹ˆëª¨ë¦¬", "market": "Y", "announce_dt": "20260227", "rcept_no": "20260227801320", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "041510", "corp_name": "ì—ìŠ¤ì— ", "market": "K", "announce_dt": "20260227", "rcept_no": "20260227901152", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "120110", "corp_name": "ì½”ì˜¤ë¡±ì¸ë”", "market": "Y", "announce_dt": "20260227", "rcept_no": "20260227801186", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "950190", "corp_name": "ê³ ìŠ¤íŠ¸ìŠ¤íŠœë””ì˜¤", "market": "K", "announce_dt": "20260227", "rcept_no": "20260227900468", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "201490", "corp_name": "ë¯¸íˆ¬ì˜¨", "market": "K", "announce_dt": "20260227", "rcept_no": "20260227900386", "confirmed": 1, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "298000", "corp_name": "íš¨ì„±í™”í•™", "market": "Y", "announce_dt": "20260227", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "018880", "corp_name": "í•œì˜¨ì‹œìŠ¤í…œ", "market": "Y", "announce_dt": "20260227", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "145720", "corp_name": "ë´í‹°ì›€", "market": "Y", "announce_dt": "20260227", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}, {"stock_code": "030210", "corp_name": "ë‹¤ì˜¬íˆ¬ìì¦ê¶Œ", "market": "Y", "announce_dt": "20260227", "rcept_no": "", "confirmed": 0, "created_at": "2026-02-28T15:08:13"}];
const UPDATED = "2026-02-28 15:08 KST";
const DOW = ['ì¼','ì›”','í™”','ìˆ˜','ëª©','ê¸ˆ','í† '];

function parseDt(d) {
  const y = d.slice(0,4), m = d.slice(4,6), day = d.slice(6,8);
  const dt = new Date(+y, +m-1, +day);
  return { m, day, dow: DOW[dt.getDay()], label: `${y}ë…„ ${m}ì›” ${Math.ceil(+day/7)}ì£¼` };
}

let _filter = 'all';

function setFilter(type, btn) {
  _filter = type;
  document.querySelectorAll('.filters button').forEach(b => b.classList.remove('active'));
  btn.classList.add('active');
  render();
}

function render() {
  const root = document.getElementById('root');
  let data = DATA;

  if (_filter === 'confirmed') data = data.filter(r => r.confirmed === 1);
  else if (_filter === 'expected') data = data.filter(r => r.confirmed === 0);
  else if (_filter === 'KOSPI')  data = data.filter(r => r.market === 'Y');
  else if (_filter === 'KOSDAQ') data = data.filter(r => r.market === 'K');

  if (!data.length) {
    root.innerHTML = '<div class="empty">í•´ë‹¹í•˜ëŠ” ì‹¤ì ë°œí‘œ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
    return;
  }

  // ì£¼ë³„ ê·¸ë£¹
  const weeks = {};
  data.forEach(r => {
    const dt = parseDt(r.announce_dt);
    if (!weeks[dt.label]) weeks[dt.label] = [];
    weeks[dt.label].push({ ...r, _dt: dt });
  });

  const mktLabel = { Y: 'KOSPI', K: 'KOSDAQ', N: 'KONEX', E: 'ê¸°íƒ€' };

  root.innerHTML = Object.entries(weeks).map(([week, rows]) => `
    <div class="week-group">
      <div class="week-label">${week}</div>
      ${rows.map(r => `
        <div class="card">
          <div class="date-badge">
            <div class="day">${r._dt.day}</div>
            <div class="dow">${r._dt.m}/${r._dt.day} ${r._dt.dow}</div>
          </div>
          <div class="card-body">
            <div class="corp-name">${r.corp_name}</div>
            <div class="corp-meta">${r.stock_code} Â· ${mktLabel[r.market] || r.market}</div>
          </div>
          <span class="badge ${r.confirmed ? 'badge-confirmed' : 'badge-expected'}">
            ${r.confirmed ? 'í™•ì •' : 'ì˜ˆìƒ'}
          </span>
        </div>
      `).join('')}
    </div>
  `).join('');
}

document.getElementById('updated-label').textContent = UPDATED ? `ì—…ë°ì´íŠ¸: ${UPDATED}` : '';
document.getElementById('footer').textContent = UPDATED ? `ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: ${UPDATED}` : '';
render();
</script>
</body>
</html>
